<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>超级管理后台 - 仅管理员可访问</title>
    <link rel="stylesheet" href="common.css">
</head>
<body>
    <!-- 顶部导航：用户名+退出按钮 -->
    <header class="admin-header">
        <h1>系统超级管理后台</h1>
        <div class="user-info">
            欢迎您，<span id="current-username" class="username"></span>（超级管理员）
            <button class="logout-btn" onclick="logout()">退出登录</button>
        </div>
    </header>

    <!-- 管理员专属功能区 -->
    <main class="content-container">
        <div class="function-card">
            <h3>🔧 管理员专属功能</h3>
            <ul>
                <li>代理账号管理（新增/修改/删除，修改config.js即可）</li>
                <li>系统全局配置管理</li>
                <li>所有代理数据查看/统计</li>
                <li>操作日志查看与导出</li>
                <li>系统权限分配</li>
            </ul>
        </div>
        <div class="function-card">
            <h3>📋 当前代理账号列表</h3>
            <div id="proxy-list" class="proxy-list"></div>
        </div>
    </main>

    <script src="config.js"></script>
    <script src="common.js"></script>
    <script>
        // 页面加载即校验：是否为管理员（非管理员直接踢回登录）
        window.onload = () => {
            checkAdminAuth();
            renderProxyList(); // 渲染代理列表
        };

        // 渲染代理账号列表（管理员专属）
        function renderProxyList() {
            const proxyListEl = document.getElementById("proxy-list");
            // 过滤出所有代理账号
            const proxies = USER_LIST.filter(item => item.role === "proxy");
            if (proxies.length === 0) {
                proxyListEl.innerHTML = "<p class='no-proxy'>暂无代理账号</p>";
                return;
            }
            // 循环渲染
            proxyListEl.innerHTML = proxies.map(item => `
                <div class="proxy-item">
                    账号：<span>${item.username}</span> | 密码：<span>${item.password}</span>
                </div>
            `).join("");
        }
    </script>
</body>
</html>
